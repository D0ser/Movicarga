<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Detracciones - Movicarga</title>
		<link rel="stylesheet" href="css/styles.css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
	</head>
	<body>
		<script>
			if (!sessionStorage.getItem("userRole")) {
				window.location.href = "login.html";
			}
		</script>
		<div class="wrapper">
			<div class="sidebar">
				<div class="sidebar-header">
					<i class="fas fa-truck-moving"></i>
					<span>MOVICARGA</span>
				</div>
				<nav class="sidebar-nav">
					<a href="index.html"><i class="fas fa-chart-line"></i> Dashboard</a>
					<a href="ventas.html"><i class="fas fa-cash-register"></i> Ventas</a>
					<a href="compras.html"><i class="fas fa-shopping-cart"></i> Compras</a>
					<a href="compras-sin-factura.html"><i class="fas fa-file-invoice"></i> Compras sin factura</a>
					<a href="detracciones.html" class="active"><i class="fas fa-percentage"></i> Detracciones</a>
					<a href="empresas.html"><i class="fas fa-building"></i> Empresas</a>
					<a href="conductores.html"><i class="fas fa-id-card"></i> Lista de conductores</a>
					<a href="flota.html"><i class="fas fa-truck"></i> Flota</a>
					<a href="otras-listas.html"><i class="fas fa-list"></i> Otras listas</a>
					<a href="configuracion.html"><i class="fas fa-cog"></i> Configuración</a>
				</nav>
				<div class="sidebar-footer">
					<a href="login.html" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a>
				</div>
			</div>
			<div class="main-content">
				<div class="top-bar">
					<button id="sidebar-toggle">
						<i class="fas fa-bars"></i>
					</button>
					<div class="user-info">
						<i class="fas fa-user"></i>
						<span id="username-display"></span>
					</div>
				</div>
				<div class="container">
					<header>
						<h1>Control de Detracciones</h1>
					</header>
					<div class="data-input">
						<h2>Nueva Detracción</h2>
						<form id="detraccionesForm">
							<input type="date" id="fecha" required />
							<input type="text" id="empresa" placeholder="Empresa" required />
							<input type="text" id="factura" placeholder="Nº Factura" required />
							<input type="number" id="montoFactura" placeholder="Monto Factura" required />
							<input type="number" id="montoDetraccion" placeholder="Monto Detracción" required />
							<input type="text" id="constancia" placeholder="Nº Constancia" />
							<select id="estado" required>
								<option value="">Estado</option>
								<option value="pendiente">Pendiente</option>
								<option value="pagado">Pagado</option>
							</select>
							<button type="submit">Registrar Detracción</button>
						</form>
					</div>
					<div class="table-container">
						<table id="detraccionesTable">
							<thead>
								<tr>
									<th>Fecha</th>
									<th>Empresa</th>
									<th>Nº Factura</th>
									<th>Monto Factura</th>
									<th>Monto Detracción</th>
									<th>Nº Constancia</th>
									<th>Estado</th>
									<th>Acciones</th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<script src="js/sidebar.js"></script>
	</body>
</html>
